let fq,$wd;$(document).ready(function(b){const a=(window.opera)?(document.compatMode==="CSS1Compat"?b("html"):b("body")):b("html,body");b("#shang").mouseout(function(){clearTimeout(fq)}).click(function(){a.animate({scrollTop:0},400)});b("#xia").mouseout(function(){clearTimeout(fq)}).click(function(){a.animate({scrollTop:b(document).height()},400)});b("#comt-reset").click(function(){a.animate({scrollTop:b("#comment-place").offset().top},400)})});function up(){$wd=$(window);$wd.scrollTop($wd.scrollTop()-1);fq=setTimeout("up()",50)}function dn(){$wd=$(window);$wd.scrollTop($wd.scrollTop()+1);fq=setTimeout("dn()",50)}if(SCROLL){let timer;function initialize(){timer=setInterval("scrollwindow()",10)}function sc(){clearInterval(timer)}function scrollwindow(){window.scrollBy(0,1)}document.onmousedown=sc;document.ondblclick=initialize}const Gifffer=function(){let images,d=document,ga="getAttribute",sa="setAttribute";images=d&&d.querySelectorAll?d.querySelectorAll("[data-gifffer]"):[];const a=function(j,l,k){const g=d.createElement("DIV"),f=k[ga]("class"),n=k[ga]("id");f?g[sa]("class",k[ga]("class")):null;n?g[sa]("id",k[ga]("id")):null;g[sa]("style","position:relative;cursor:pointer;width:"+j+"px;height:"+l+"px;");const m=d.createElement("DIV");m[sa]("style","width:60px;height:60px;border-radius:30px;background:rgba(0, 0, 0, 0.3);position:absolute;left:"+(j/2-30)+"px;top:"+(l/2-30)+"px;");const e=d.createElement("DIV");e[sa]("style","width:0;height: 0;border-top:14px solid transparent;border-bottom:14px solid transparent;border-left:14px solid rgba(0, 0, 0, 0.5);position:absolute;left:26px;top:16px;");m.appendChild(e);g.appendChild(m);k.parentNode.replaceChild(g,k);return{c:g,p:m}};const b=function(e){let url,con,c,w,h,play,gif,playing=false,cc,isC;url=e[ga]("data-gifffer");w=e[ga]("data-gifffer-width");h=e[ga]("data-gifffer-height");e.style.display="block";c=document.createElement("canvas");isC=!!(c.getContext&&c.getContext("2d"));if(w&&h&&isC){cc=a(w,h,e)}e.onload=function(){if(isC){w=w||e.width;h=h||e.height;if(!cc){cc=a(w,h,e)}con=cc.c;play=cc.p;con.addEventListener("click",function(){if(!playing){playing=true;gif=d.createElement("IMG");gif[sa]("style","width:"+w+"px;height:"+h+"px;");gif[sa]("data-uri",Math.floor(Math.random()*100000)+1);setTimeout(function(){gif.src=url},0);con.removeChild(play);con.removeChild(c);con.appendChild(gif)}else{playing=false;con.appendChild(play);con.removeChild(gif);con.appendChild(c);gif=null}});c.width=w;c.height=h;c.getContext("2d").drawImage(e,0,0,w,h);con.appendChild(c)}};e.src=url};for(let i=0;i<images.length;i++){b(images[i])}};$(document).ready(function(b){const a={x:10,y:20,tipElements:"a,span,img,div ",noTitle:false,init:function(){let noTitle=this.noTitle,isTitle;b(this.tipElements).each(function(){b(this).mouseover(function(g){if(/hint--/i.test(b(this).prop("className"))&&HINT){this.title&&b(this).attr("data-hint",this.title);b(this).removeAttr("title")}if(noTitle){isTitle=true}else{isTitle=b.trim(this.title)!==""}if(isTitle){this.myTitle=this.title;this.title="";const f="<div class='tooltip'><div class='tipsy-arrow tipsy-arrow-n'></div><div class='tipsy-inner'>"+this.myTitle+"</div></div>";b("body").append(f);b(".tooltip").css({top:(g.pageY+20)+"px",left:(g.pageX-20)+"px"}).show("fast")}}).mouseout(function(){if(this.myTitle!=null){this.title=this.myTitle;b(".tooltip").remove()}}).mousemove(function(f){b(".tooltip").css({top:(f.pageY+20)+"px",left:(f.pageX-20)+"px"})})})}};b(function(){a.init()})});function goTop(e,g){e=e||0.1;g=g||12;let dx=0;let dy=0;let bx=0;let by=0;let wx;let wy;if(document.documentElement){dx=document.documentElement.scrollLeft||0;dy=document.documentElement.scrollTop||0}if(document.body){bx=document.body.scrollLeft||0;by=document.body.scrollTop||0}wx=window.scrollX||0;wy=window.scrollY||0;const a=Math.max(wx,Math.max(bx,dx));const j=Math.max(wy,Math.max(by,dy));const f=1+e;window.scrollTo(Math.floor(a/f),Math.floor(j/f));if(a>0||j>0){const b="goTop("+e+", "+g+")";window.setTimeout(b,g)}}(function(b,e){let $window,$document,$body,$html,$bodhtml;b.AA_CONFIG=b.AA_CONFIG||{};b.AA_CONFIG=e.extend({animationLength:750,easingFunction:"linear",scrollOffset:0},b.AA_CONFIG);e(document).ready(function(){$window=e(b);$document=e(this);$body=e(document.body);$html=e(document.documentElement);$bodhtml=$body.add($html);a();$document.find('a[href^="#"], a[href^="."]').on("click",function(){let href=e(this).attr("href");if(href.charAt(0)==="."){href=href.split("#");href.shift();href="#"+href.join("#")}if(href===location.hash){a(href)}});$window.on("hashchange",function(){a()});$window.on("mousewheel DOMMouseScroll touchstart mousedown MSPointerDown",function(){$bodhtml.stop(true,false)})});function a(f){let $actualID,$el;f=f||location.hash;const m=f.substring(1).split("|");const l=m[0];const n=m[1]||b.AA_CONFIG.animationLength;if(l.charAt(0).search(/[A-Za-z]/)>-1){$actualID=$document.find("#"+l)}const g=$document.find('a[name="'+l+'"]');if((g&&g.length)||($actualID&&$actualID.length)){return false}const j=e(l).first();if(j&&j.length){$el=j}else{return false}if($el&&$el.length){const k=$el.offset().top-b.AA_CONFIG.scrollOffset;$bodhtml.stop(true,false).animate({scrollTop:k},parseInt(n),b.AA_CONFIG.easingFunction)}}})(window,jQuery);function commentReply(b,e){const a=document.getElementById("comment-post");document.getElementById("comment-pid").value=b;document.getElementById("cancel-reply").style.display="";e.parentNode.parentNode.appendChild(a)}function cancelReply(){const a=document.getElementById("comment-place"),b=document.getElementById("comment-post");document.getElementById("comment-pid").value=0;document.getElementById("cancel-reply").style.display="none";a.appendChild(b)}function checkcode(b){const a=new Date().getTime();b.attr("src","/include/lib/checkcode.php?"+a)}let comTip="";function postComment(a){if(a==="judge"){let cnReg=/[\u4e00-\u9fa5]/;let mailReg=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/i;let isCn=$("#commentform").attr("is-chinese");let comContent=$(".from-comment-content").val();let name=$("#fromcomname").val();let mail=$("#fromcommail").val();let imgcode=$('input[name="imgcode"]').val();if(isCn=="y"&&!cnReg.test(comContent)){comTip="评论内容需要包含中文！"}else{if(typeof mail!=="undefined"&&mail!=""&&!mailReg.test(mail)){comTip="邮箱格式错误！"}else{if(typeof imgcode!=="undefined"&&imgcode==""){comTip="请输入验证码！"}else{comTip=""}}}}else{if(comTip!=""){alert(comTip);return false}else{return true}}}$(document).ready(function(){$("#commentform").attr("onsubmit","return postComment()");$(".from-comment-content").blur(function(){postComment("judge")});$("#captcha").click(function(){checkcode($(this))})});$(function(){if(LAZYLOAD&&$(".lazyload").length>0){$(".lazyload").lazyload({effect:"fadeIn",threshold:200});$("html,body").animate({scrollTop:1},500)}if(CHAFFLE){const b=document.querySelectorAll("[data-chaffle]");const e=document.querySelectorAll("[data-chaffle-onLoad]");Array.prototype.forEach.call(b,function(f){const g=new Chaffle(f);f.addEventListener("mouseover",function(){g.init()})});Array.prototype.forEach.call(e,function(g){const f=new Chaffle(g,{delay:300});setInterval(function(){f.init()},9000)})}if(IMGERROR){function a(f){$(f).show().off("error")}$(".thumbnail1 img").on("error",function(){this.src=IMGERRORSCR;a(this)});$("#emlogEchoLog img").on("error",function(){$(this).css("display","none")})}});