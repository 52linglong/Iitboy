/*!
 * Chaffle
 * Shuffle Characters Randomly.
 * http://blivesta.github.io/chaffle
 * License : MIT
 * Author : blivesta (http://blivesta.com/)
 */
(function(a,b){if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof exports==="object"){module.exports=b()}else{a.Chaffle=b()}}})(this,function(){function b(){var c={};var d=false;if(Object.prototype.toString.call(arguments[0])==="[object Boolean]"){d=arguments[0];e++}function g(h){for(var i in h){if(Object.prototype.hasOwnProperty.call(h,i)){if(d&&Object.prototype.toString.call(h[i])==="[object Object]"){c[i]=b(true,c[i],h[i])}else{c[i]=h[i]}}}}for(var e=0;e<arguments.length;e++){var f=arguments[e];g(f)}return c}function a(e,c){var g={};var f=e.getAttribute("data-chaffle");var h=e.getAttribute("data-chaffle-speed");var d=e.getAttribute("data-chaffle-delay");if(f.length!==0){g.lang=f}if(h!==null){g.speed=Number(h)}if(d!==null){g.delay=Number(d)}this.options={lang:"en",speed:20,delay:100};this.options=b(this.options,c,g);this.element=e;this.text=this.element.textContent;this.substitution="";this.state=false;this.shuffleProps=[];this.reinstateProps=[]}a.prototype={constructor:a,init:function(){var c=this;if(c.state){return}c.clearShuffleTimer();c.clearReinstateTimer();c.state=true;c.substitution="";c.shuffleProps=[];c.reinstateProps=[];var d=setInterval(function(){c.shuffle()},c.options.speed);var e=setInterval(function(){c.reinstate()},c.options.delay);c.shuffleProps=d;c.reinstateProps=e},shuffle:function(){this.element.textContent=this.substitution;var d=this.text.length;var e=this.substitution.length;if((d-e)>0){for(var c=0;c<=d-e;c++){this.element.textContent=this.element.textContent+this.randomStr()}}else{this.clearShuffleTimer()}},reinstate:function(){var c=this.text.length;var d=this.substitution.length;if(d<c){this.element.textContent=this.substitution=this.text.substr(0,d+1)}else{this.clearReinstateTimer()}this.state=false},clearShuffleTimer:function(){return clearInterval(this.shuffleProps)},clearReinstateTimer:function(){return clearInterval(this.reinstateProps)},randomStr:function(){var c;switch(this.options.lang){case"en":c=String.fromCharCode(33+Math.round(Math.random()*99));break;case"ja":c=String.fromCharCode(19968+Math.round(Math.random()*80));break;case"ja-hiragana":c=String.fromCharCode(12353+Math.round(Math.random()*85));break;case"ja-katakana":c=String.fromCharCode(12449+Math.round(Math.random()*85));break;case"ua":c=String.fromCharCode(1040+Math.round(Math.random()*55));break;case"cn":c=String.fromCharCode(19968+Math.floor(Math.random()*20901));break}return c}};return a});